name: sender

deployments:
- containers:
  - image: docker.io/surajd/activemq-sender:1.0.1
    env:
    - name: AMQP_USERNAME
      value: deployments
    - name: AMQP_PASSWORD
      value: test
    - name: POD_NAME
      valueFrom:
        fieldRef:
          fieldPath: metadata.name
    - name: TYPE_OF_AMQP_USER
      value: sender
    - name: "AMQP_ADDRESS"
      value: "single-queue"
    - name: AMQ_SERVER
      value: "amqps://messaging-maas-aslakzredhatzcom.6a63.fuse-ignite.openshiftapps.com:443"

---
name: receiver

deployments:
- replicas: 2
  containers:
  - image: docker.io/surajd/activemq-receiver:1.0.1
    env:
    - name: AMQP_USERNAME
      value: deployments
    - name: AMQP_PASSWORD
      value: test
    - name: POD_NAME
      valueFrom:
        fieldRef:
          fieldPath: metadata.name
    - name: TYPE_OF_AMQP_USER
      value: receiver
    - name: "AMQP_ADDRESS"
      value: "single-queue"
    - name: AMQ_SERVER
      value: "amqps://messaging-maas-aslakzredhatzcom.6a63.fuse-ignite.openshiftapps.com:443"
